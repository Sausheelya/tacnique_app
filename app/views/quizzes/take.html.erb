<div class="container mt-5">
  <div class="row align-items-start">
    <!-- Left side: quiz title + questions form -->
    <div class="col-md-6 mb-4">
      <h2 class="mb-3"><%= @quiz.title %></h2>

      <%= form_with url: submit_quiz_path(@quiz), method: :post, local: true do %>
        <% @questions.each_with_index do |q, i| %>
          <div class="mb-4 p-3 border rounded bg-white">
            <p class="mb-3">
              <strong>Q<%= i + 1 %>:</strong> <%= q.content %>
            </p>

            <% if q.question_type == 'mcq' && q.options.present? %>
              <% JSON.parse(q.options).each do |opt| %>
                <div class="form-check">
                  <input class="form-check-input"
                         type="radio"
                         name="answers[<%= q.id %>]"
                         id="q<%= q.id %>_<%= opt.parameterize %>"
                         value="<%= opt %>">
                  <label class="form-check-label" for="q<%= q.id %>_<%= opt.parameterize %>">
                    <%= opt %>
                  </label>
                </div>
              <% end %>

            <% elsif q.question_type == 'true_false' %>
              <div class="form-check">
                <input class="form-check-input"
                       type="radio"
                       name="answers[<%= q.id %>]"
                       id="q<%= q.id %>_true"
                       value="true">
                <label class="form-check-label" for="q<%= q.id %>_true">
                  True
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input"
                       type="radio"
                       name="answers[<%= q.id %>]"
                       id="q<%= q.id %>_false"
                       value="false">
                <label class="form-check-label" for="q<%= q.id %>_false">
                  False
                </label>
              </div>

            <% else %>
              <input type="text"
                     name="answers[<%= q.id %>]"
                     class="form-control"
                     placeholder="Type your answer here">
            <% end %>
          </div>
        <% end %>

        <button type="submit" class="btn btn-primary btn-lg">
          Submit Quiz
        </button>
      <% end %>
    </div>

    <!-- Right side: big logo / image -->
    <div class="col-md-6 text-center">
      <%= image_tag "tacnique-logo.svg",
                    alt: "Tacnique logo",
                    class: "img-fluid rounded shadow-sm mb-3" %>

      <p class="text-muted">
        This quiz experience is a prototype by <strong>Tacnique</strong>,
        built by <strong>Sausheelya</strong>.
      </p>
    </div>
  </div>
</div>
